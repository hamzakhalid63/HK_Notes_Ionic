<ion-header>
  <ion-toolbar>
    <ion-title>
      Class Members
    </ion-title>
    <ion-icon
      slot="end"
      name="more"
      size="large"
      (click)="presentPopover($event)"
    ></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div *ngIf="!loading">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Class Key: {{classKey}}</ion-card-title>
      </ion-card-header>
    </ion-card>
    <ion-card>
      <ion-card-header>
        <ion-card-title>ADMIN</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item lines="none">
            <ion-icon slot="start" name="folder"></ion-icon>
            <ion-label>{{admin?.name}}</ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
    <ion-card>
      <ion-card-header>
        <ion-card-title>MEMBERS</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list *ngFor="let member of members">
          <ion-item lines="none">
            <ion-icon slot="start" name="folder"></ion-icon>
            <ion-label>{{member?.name}}</ion-label>
            <ion-button (click)="confirmation(member)" *ngIf="user.role === 'admin'">
              <ion-icon name="trash"></ion-icon>
            </ion-button>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>  
  </div>

  <div *ngIf="loading">

    <ion-list>
      <ion-item *ngFor="let item of skeletonlist">
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
        </ion-label>
      </ion-item>

    </ion-list>
  </div>

</ion-content>
